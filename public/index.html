<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hashish Empire: The Illumination Clicker</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=VT323&display=swap" rel="stylesheet">
</head>
<body>
    <div class="game-container">
        <!-- Header -->
        <header class="game-header">
            <div class="title-section">
                <h1 class="game-title">HASHISH EMPIRE</h1>
                <h2 class="game-subtitle">THE ILLUMINATION CLICKER</h2>
                <div class="illumination-level">
                    <span class="level-text">ILLUMINATION LEVEL: </span>
                    <span id="current-level">1</span>
                    <span class="level-name" id="level-name">Street Dealer</span>
                </div>
            </div>
            <div class="stats-section">
                <div class="stat-item">
                    <span class="stat-label">Hash Units:</span>
                    <span class="stat-value" id="hash-units">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">HU/sec:</span>
                    <span class="stat-value" id="hu-per-sec">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">CPS:</span>
                    <span class="stat-value" id="clicks-per-second">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Prestige:</span>
                    <span class="stat-value" id="prestige-level">0</span>
                </div>
            </div>
        </header>

        <!-- Main Game Area -->
        <main class="game-main">
            <!-- Left Panel - Clicking Area -->
            <section class="click-area">
                <div class="plant-container">
                    <div class="hashish-plant" id="hashish-plant">
                        <div class="plant-icon">üåø</div>
                        <div class="click-effect" id="click-effect"></div>
                    </div>
                    <div class="click-counter" id="click-counter">+1</div>
                    <div id="combo-display" class="combo-display hidden">x1</div>
                </div>

                <!-- Save/Load/Console Panel -->
                <div class="save-panel">
                    <button class="action-btn" id="save-btn" title="Save"><span class="btn-icon">üíæ</span><span class="btn-text">SAVE</span></button>
                    <button class="action-btn" id="load-btn" title="Load"><span class="btn-icon">üìÅ</span><span class="btn-text">LOAD</span></button>
                    <button class="action-btn" id="reset-btn" title="Reset"><span class="btn-icon">üîÑ</span><span class="btn-text">RESET</span></button>
                    <button class="action-btn" id="console-btn" title="Terminal"><span class="btn-icon">‚å®Ô∏è</span><span class="btn-text">CONSOLE</span></button>
                    <button class="action-btn" onclick="window.open('illumination-store/index.html', '_blank')" title="Merchandise"><span class="btn-icon">üõí</span><span class="btn-text">MERCH</span></button>
                    <button class="action-btn hidden" id="change-empire-btn" title="Change Empire"><span class="btn-icon">üåê</span><span class="btn-text">EMPIRES</span></button>
                    <div class="menu-divider"></div>
                    <button class="action-btn" id="audio-toggle-btn" title="Sound Settings"><span class="btn-icon">üîä</span><span class="btn-text">SOUND</span></button>
                    <button class="action-btn" id="leaderboard-toggle-btn" title="Leaderboard"><span class="btn-icon">üèÜ</span><span class="btn-text">LEADERBOARD</span></button>
                </div>
                
                <!-- Illuminati Eye (appears at higher levels) -->
                <div class="illuminati-eye hidden" id="illuminati-eye">
                    <div class="eye-symbol">üëÅ</div>
                    <div class="pyramid">‚ñ≤</div>
                </div>

                <!-- Current Tier Display -->
                <div class="tier-display">
                    <h3 id="tier-title">Tier 1: Street-Level Operations</h3>
                    <p id="tier-description">The seed is planted. Now, nurture it.</p>
                    <div class="level-progress">
                        <div id="level-progress-bar"><div id="level-progress-fill"></div></div>
                        <div id="level-progress-text">0%</div>
                    </div>
                </div>
            </section>

            <!-- Right Panel - Upgrades -->
            <section class="upgrades-panel">
                <div class="panel-header">
                    <h3>UPGRADES & OPERATIONS</h3>
                    <div class="panel-tabs">
                        <button class="tab-btn active" data-tab="production">Production</button>
                        <button class="tab-btn" data-tab="distribution">Distribution</button>
                        <button class="tab-btn" data-tab="influence">Influence</button>
                        <button class="tab-btn" data-tab="prestige">Prestige</button>
                    </div>
                </div>

                <!-- Production Tab -->
                <div class="tab-content active" id="production-tab">
                    <div class="upgrades-list" id="production-upgrades">
                        <!-- Upgrades will be dynamically generated -->
                    </div>
                </div>

                <!-- Distribution Tab -->
                <div class="tab-content" id="distribution-tab">
                    <div class="upgrades-list" id="distribution-upgrades">
                        <!-- Upgrades will be dynamically generated -->
                    </div>
                </div>

                <!-- Influence Tab -->
                <div class="tab-content" id="influence-tab">
                    <div class="upgrades-list" id="influence-upgrades">
                        <!-- Upgrades will be dynamically generated -->
                    </div>
                </div>

                <!-- Prestige Tab -->
                <div class="tab-content" id="prestige-tab">
                    <div class="prestige-info">
                        <h4>Prestige System</h4>
                        <p>Reset your progress for permanent bonuses</p>
                        <div class="prestige-stats">
                            <div>Enlightenment Tokens: <span id="enlightenment-tokens">0</span></div>
                            <div>Global Multiplier: <span id="global-multiplier">1.0x</span></div>
                        </div>
                        <button class="prestige-btn" id="prestige-btn" disabled>PRESTIGE</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Bottom Panel - Analytics & Events -->
        <footer class="game-footer">
            <div class="analytics-panel">
                <h4>ANALYTICS TERMINAL</h4>
                <div class="terminal-content" id="analytics-terminal">
                    <div class="terminal-line">> System initialized...</div>
                    <div class="terminal-line">> Monitoring global hash flow...</div>
                    <div class="terminal-line">> Ready for operations.</div>
                </div>
            </div>
            
            <div class="events-panel">
                <h4>OPERATIONS LOG</h4>
                <div class="events-content" id="events-log">
                    <div class="event-item">Welcome to the Empire</div>
                </div>
            </div>
        </footer>

        <!-- Modal for Events -->
        <div class="modal hidden" id="event-modal">
            <div class="modal-content">
                <h3 id="modal-title">Event</h3>
                <p id="modal-description">Event description</p>
                <div class="modal-buttons">
                    <button class="modal-btn" id="modal-btn1">Option 1</button>
                    <button class="modal-btn" id="modal-btn2">Option 2</button>
                </div>
            </div>
        </div>

        <!-- Leaderboard Modal -->
        <div class="modal hidden" id="leaderboard-modal">
            <div class="modal-content leaderboard-modal">
                <div class="leaderboard-header">
                    <h3>üèÜ ILLUMINATION LEADERBOARD</h3>
                    <button class="leaderboard-close-btn" id="leaderboard-close-btn">&times;</button>
                </div>
                
                <div class="leaderboard-tabs">
                    <button class="leaderboard-tab-btn active" data-category="global">GLOBAL TOP 100</button>
                    <button class="leaderboard-tab-btn" data-category="myrank">MY RANK</button>
                    <button class="leaderboard-tab-btn" data-category="maxCPS">FASTEST CLICKERS</button>
                    <button class="leaderboard-tab-btn" data-category="prestige">PRESTIGE MASTERS</button>
                    <button class="leaderboard-tab-btn" data-category="totalClicks">MOST CLICKS</button>
                </div>

                <div class="leaderboard-content">
                    <div id="leaderboard-loading" class="leaderboard-loading hidden">‚è≥ Loading rankings...</div>
                    <div id="leaderboard-error" class="leaderboard-error hidden"></div>
                    
                    <!-- Global Top 100 -->
                    <div class="leaderboard-table active" id="category-global">
                        <div class="leaderboard-header-row">
                            <span class="rank-col">Rank</span>
                            <span class="name-col">Player</span>
                            <span class="level-col">Level</span>
                            <span class="value-col">Hash Units</span>
                        </div>
                        <div class="leaderboard-rows" id="global-rows">
                            <div class="leaderboard-row">Loading...</div>
                        </div>
                    </div>

                    <!-- My Rank -->
                    <div class="leaderboard-table" id="category-myrank">
                        <div class="player-rank-card">
                            <div id="player-rank-info">
                                <div class="player-rank-rank">Rank: <span id="player-rank-number">--</span></div>
                                <div class="player-rank-name">Player ID: <span id="player-rank-id">--</span></div>
                                <div class="player-rank-stats">
                                    <div>Level: <span id="player-rank-level">1</span></div>
                                    <div>Hash Units: <span id="player-rank-hu">0</span></div>
                                    <div>CPS: <span id="player-rank-cps">0</span></div>
                                </div>
                            </div>
                            <div class="rank-neighbors">
                                <h4>Nearby Rankings</h4>
                                <div id="rank-neighbors-list">Loading...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Fastest Clickers -->
                    <div class="leaderboard-table" id="category-maxCPS">
                        <div class="leaderboard-header-row">
                            <span class="rank-col">Rank</span>
                            <span class="name-col">Player</span>
                            <span class="level-col">Level</span>
                            <span class="value-col">Max CPS</span>
                        </div>
                        <div class="leaderboard-rows" id="maxCPS-rows">
                            <div class="leaderboard-row">Loading...</div>
                        </div>
                    </div>

                    <!-- Prestige Masters -->
                    <div class="leaderboard-table" id="category-prestige">
                        <div class="leaderboard-header-row">
                            <span class="rank-col">Rank</span>
                            <span class="name-col">Player</span>
                            <span class="level-col">Level</span>
                            <span class="value-col">Prestige Level</span>
                        </div>
                        <div class="leaderboard-rows" id="prestige-rows">
                            <div class="leaderboard-row">Loading...</div>
                        </div>
                    </div>

                    <!-- Most Clicks -->
                    <div class="leaderboard-table" id="category-totalClicks">
                        <div class="leaderboard-header-row">
                            <span class="rank-col">Rank</span>
                            <span class="name-col">Player</span>
                            <span class="level-col">Level</span>
                            <span class="value-col">Total Clicks</span>
                        </div>
                        <div class="leaderboard-rows" id="totalClicks-rows">
                            <div class="leaderboard-row">Loading...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Audio Settings Modal -->
        <div class="modal hidden" id="audio-modal">
            <div class="modal-content audio-modal-content">
                <div class="modal-header">
                    <h3>üîä SOUND SETTINGS</h3>
                    <button class="close-btn" onclick="document.getElementById('audio-modal').classList.add('hidden')">&times;</button>
                </div>
                <div class="audio-settings">
                    <div class="sound-option">
                        <label>Master Volume</label>
                        <input type="range" id="master-volume" min="0" max="100" value="100" class="volume-slider">
                        <span id="master-volume-display">100%</span>
                    </div>
                    <div class="sound-option">
                        <label>Click Sound</label>
                        <input type="checkbox" id="click-sound" checked class="audio-checkbox">
                        <span class="checkbox-label">Enable click feedback</span>
                    </div>
                    <div class="sound-option">
                        <label>Notification Sound</label>
                        <input type="checkbox" id="notification-sound" checked class="audio-.checkbox">
                        <span class="checkbox-label">Enable notifications</span>
                    </div>
                    <div class="sound-option">
                        <label>Background Music</label>
                        <input type="checkbox" id="bg-music" unchecked class="audio-checkbox">
                        <span class="checkbox-label">Enable ambience</span>
                    </div>
                </div>
                <div class="modal-buttons" style="margin-top: 20px;">
                    <button class="modal-btn" onclick="document.getElementById('audio-modal').classList.add('hidden')">CLOSE</button>
                </div>
            </div>
        </div>

        <!-- PWA Install Modal -->
    <div id="pwa-modal" class="modal hidden">
        <div class="modal-content pwa-content">
            <h3 style="color: #00ff00;">üì± SYSTEM UPGRADE AVAILABLE</h3>
            <p>Install the secure uplink to your home screen for optimal performance.</p>
            <div class="modal-buttons">
                <button class="modal-btn" id="pwa-install-btn">INSTALL UPLINK</button>
                <button class="modal-btn" id="pwa-close-btn">IGNORE</button>
            </div>
        </div>
    </div>

    <script src="empires.js"></script>
    <script src="backend-client.js"></script>
    <script src="game.js"></script>
    <script src="terminal.js"></script>
    <script src="achievements.js"></script>
</body>
</html>
